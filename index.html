<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PustakaAsa</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Poppins', sans-serif;
    background: #FFF5EB;
    color: #8B5E3C;
    line-height: 1.6;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  header {
    background: #C4915E;
    padding: 1rem 2rem;
    color: #FFF5EB;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  }

  .header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    text-align: left;
  }

  .logo h1 {
    font-size: 1.5rem;
    margin: 0;
    color: #eee;
  }

  .logo p {
    margin: 0;
    font-size: 1rem;
    color: #bbb;
  }

  nav {
    display: flex;
    gap: 2rem;
  }

  nav button {
    background: transparent;
    border: none;
    color: rgba(253, 248, 243, 0.8);
    font-size: 1rem;
    cursor: pointer;
    padding: 0.5rem 1rem;
    transition: all 0.3s ease;
  }

  nav button:hover,
  nav button.active {
    color: #FDF8F3;
  }

  main {
    flex-grow: 1;
    max-width: 900px;
    margin: 2rem auto 3rem auto;
    padding: 0 1rem;
  }

  #home {
    padding: 0;
    max-width: none;
    margin: 0 auto;
  }

  h1, h2, h3, p {
    margin-bottom: 1rem;
    color: #111;
  }

  /* Page visibility */
  .page {
    display: none;
  }

  .page.active {
    display: block;
  }

  /* Image styles */
  img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin: 1rem 0;
  }

  /* Home page styles */
  #home .hero {
    position: relative;
    color: #8B5E3C;
    overflow: hidden;
    margin: 0;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    margin-bottom: 3rem;
  }
  #home .hero-image {
    width: 100%;
    height: 400px;
    object-fit: cover;
    display: block;
    margin: 0;
  }
  #home .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.3);
    display: flex;
    justify-content: center;
    align-items: center;
  }
  #home .hero-title {
    color: white;
    font-size: 4rem;
    font-weight: 700;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
    margin: 0;
  }
  #home .content-wrapper {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  #home .hero-text {
    margin: 3rem auto 1rem auto;
    max-width: 900px;
    font-size: 1rem;
    line-height: 1.6;
    text-align: center;
  }
  #home .hero p {
    font-size: 1rem;
    max-width: 900px;
    margin: 0 auto 2rem auto;
  }

  /* Gallery section on Home */
  #home .gallery-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
    margin-bottom: 3rem;
  }
  #home .gallery-image {
    width: calc(33.333% - 8px);
    border-radius: 8px;
    object-fit: cover;
    aspect-ratio: 4/3;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }


  /* Donasi page */
  #donasi .project-list {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
    gap: 1.8rem;
    margin-bottom: 2rem;
  }

  #donasi .cara-donasi {
    background: #f4f4f4;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    color: #333;
    font-size: 1rem;
    max-width: 700px;
    margin: 0 auto 3rem auto;
    box-shadow: 0 2px 5px rgba(0,0,0,0.08);
  }
  #donasi .cara-donasi h3 {
    margin-bottom: 0.8rem;
    color: #444;
  }
  #donasi .cara-donasi ul {
    margin-left: 1.2rem;
    list-style-type: disc;
  }
  #donasi .cara-donasi ul li {
    margin-bottom: 0.5rem;
  }

  .project-card {
    background: #fafafa;
    border-radius: 10px;
    border: 1px solid #ddd;
    padding: 1rem 1.5rem 1.8rem 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  .project-card h3 {
    color: #222;
    margin-bottom: 0.8rem;
  }
  .project-card p {
    flex-grow: 1;
    margin-bottom: 1rem;
    color: #555;
  }

  .project-progress {
    background: #ddd;
    border-radius: 15px;
    height: 18px;
    overflow: hidden;
    margin-bottom: 1rem;
  }
  .project-progress-inner {
    background: #DEB887;
    height: 100%;
    width: 0%;
    border-radius: 15px 0 0 15px;
    transition: width 0.6s ease;
  }

  .donasi-button {
    background: #DBA16F;
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    align-self: flex-start;
    transition: background-color 0.3s ease;
    box-shadow: 0 3px 5px rgba(0,0,0,0.2);
  }
  .donasi-button:hover {
    background: #1d4ed8;
  }

  /* Donasi form modal */

  #donasi-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    display: none;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    z-index: 1000;
  }
  #donasi-modal.active {
    display: flex;
  }
  #donasi-modal .modal-content {
    background: #fff;
    border-radius: 10px;
    padding: 2rem;
    max-width: 400px;
    width: 100%;
    box-shadow: 0 5px 12px rgba(0,0,0,0.3);
    position: relative;
  }
  #donasi-modal h3 {
    margin-bottom: 1.2rem;
    color: #222;
  }
  #donasi-modal label {
    display: block;
    margin-bottom: 0.3rem;
    font-weight: 600;
    color: #222;
  }
  #donasi-modal input[type="text"],
  #donasi-modal input[type="number"],
  #donasi-modal textarea {
    width: 100%;
    padding: 0.4rem 0.6rem;
    margin-bottom: 1rem;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1rem;
    color: #222;
  }
  #donasi-modal textarea {
    resize: vertical;
    min-height: 80px;
  }
  #donasi-modal button.submit-btn {
    background: #444;
    border: none;
    color: white;
    padding: 0.6rem 1.4rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #donasi-modal button.submit-btn:hover {
    background: #222;
  }
  #donasi-modal .close-btn {
    position: absolute;
    top: 0.4rem;
    right: 0.8rem;
    background: transparent;
    border: none;
    font-size: 1.6rem;
    cursor: pointer;
    color: #555;
    font-weight: bold;
  }
  #donasi-modal .close-btn:hover {
    color: #222;
  }

  /* About Us page - team grid */
  #about .team-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
    margin: 1rem auto 3rem auto;
  }
  #about .team-member {
    width: calc(33.333% - 8px);
    position: relative;
  }

  #about .team-member img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 8px;
    display: block;
  }

  #about .team-member h4,
  #about .team-member p {
    position: absolute;
    left: 0;
    right: 0;
    text-align: center;
    color: white;
    text-shadow: 1px 1px 2px rgba(196,145,94,0.9);
  }

  #about .team-member h4 {
    bottom: 15px;
  }

  #about .team-member p {
    bottom: 10px;
  }

  #about .team-member h4 {
    font-size: 1.1rem;
    margin-bottom: 0.3rem;
    color: #222;
    position: relative;
    z-index: 1;
  }

  #about .team-member p {
    font-size: 0.9rem;
    color: #555;
    position: relative;
    z-index: 1;
  }


  /* New Campaign page styles */
  #create-campaign label {
    display: block;
    margin-bottom: 0.4rem;
    font-weight: 600;
    color: #222;
  }
  #create-campaign input[type="text"],
  #create-campaign input[type="number"],
  #create-campaign textarea {
    width: 100%;
    padding: 0.5rem 0.7rem;
    margin-bottom: 1rem;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1rem;
    color: #222;
    resize: vertical;
    min-height: 80px;
  }
  #create-campaign button.submit-btn {
    background: #444;
    border: none;
    color: white;
    padding: 0.6rem 1.4rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #create-campaign button.submit-btn:hover {
    background: #222;
  }

  /* Footer */
  footer {
    background: #C4915E;
    color: #FFF5EB;
    padding: 3rem 2rem;
    font-weight: 600;
    text-align: left;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
  }

  .footer-container {
    max-width: 1200px;
    width: 100%;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
  }

  .footer-title {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 0.8rem;
    user-select: none;
    letter-spacing: 0.5px;
  }

  footer nav {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    width: 100%;
  }

  footer nav button {
    background: transparent;
    border: none;
    color: rgba(253, 248, 243, 0.8);
    cursor: pointer;
    font-size: 1rem;
    padding: 0.5rem;
    width: 100%;
    text-align: left;
    transition: all 0.3s ease;
  }

  footer nav button:hover {
    color: #FDF8F3;
    transform: translateX(5px);
  }

  .footer-copy {
    font-size: 0.95rem;
    color: rgba(253, 248, 243, 0.9);
    margin-top: 2rem;
    grid-column: 1 / -1;
    text-align: center;
    border-top: 1px solid rgba(253, 248, 243, 0.2);
    padding-top: 1.5rem;
  }

  /* Responsive */
  @media (max-width: 480px) {
    nav {
      gap: 1rem;
      flex-wrap: wrap;
    }

    header {
      padding: 1rem;
    }

    main {
      margin: 1.5rem 1rem 2rem 1rem;
      max-width: 100%;
    }

    #home .hero {
      margin: 0;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      margin-bottom: 3rem;
    }

    #home .gallery-image {
      width: calc(50% - 8px);
    }

    #about .team-container {
      grid-template-columns: repeat(auto-fill,minmax(120px,1fr));
    }
  }
</style>
</head>
<body>
<header>
  <div class="header-content">
    <div class="logo">
      <h1>PustakaAsa</h1>
      <p>Menyalakan Asa, dengan Aksara</p>
    </div>
    <nav aria-label="Navigasi utama">
      <button id="nav-home" class="active" aria-current="page">Beranda</button>
      <button id="nav-about">Tentang Kami</button>
      <button id="nav-donasi">Donasi</button>
      <button id="nav-create-campaign">Buat Campaign</button>
    </nav>
  </div>
</header>

<main>
  <section id="home" class="page active" tabindex="0" aria-label="Halaman Beranda">
    <div class="hero" role="banner">
      <img src="gambar/homepage.JPG" alt="Anak-anak belajar" class="hero-image">
      <div class="hero-overlay">
        <h1 class="hero-title">PUSTAKA ASA</h1>
      </div>
    </div>

    <div class="content-wrapper">
      <div class="hero-text">
        <p>Di tengah hiruk-pikuk kota Surabaya, ada ratusan anak yang tumbuh dalam kehangatan panti asuhan. Mereka memiliki semangat belajar yang besar, rasa ingin tahu yang tinggi, dan impian yang tak kalah besar dari anak-anak lainnya. Namun, banyak dari mereka belum pernah membaca buku dongeng, cerita bergambar, atau petualangan imajinatif yang biasa kita nikmati saat kecil. Rak buku mereka kosong, atau hanya berisi buku pelajaran yang sudah usang. Pustaka Asa hadir untuk menyalakan harapan itu kembali — melalui buku. Bersama kamu, kami ingin menghadirkan pengalaman membaca yang menyenangkan untuk anak-anak panti di Surabaya. Karena dari satu buku, bisa tumbuh sejuta mimpi.</p>
      </div>

      <div class="gallery-container" aria-label="Galeri Gambar">

      </div>

      <h2>Mengapa PustakaAsa?</h2>
    <p>Pustaka Asa lahir dari kesadaran bahwa masih banyak anak-anak di panti asuhan yang tumbuh tanpa akses memadai terhadap buku bacaan yang sesuai dengan usia dan imajinasi mereka. Buku pelajaran mungkin tersedia, tapi buku cerita yang dapat menginspirasi, menghibur, dan menumbuhkan rasa ingin tahu — masih menjadi sesuatu yang langka.</p>
    <p>Kami percaya bahwa literasi bukan hanya tentang kemampuan membaca, tetapi tentang membuka pintu harapan, membangun karakter, dan menciptakan masa depan yang lebih baik. Melalui buku, anak-anak bisa mengenal dunia, berani bermimpi, dan tumbuh dengan perspektif yang lebih luas.</p>
    <p>Pustaka Asa adalah jembatan antara niat baik dan kebutuhan nyata. Kami mengajak masyarakat untuk berkontribusi bersama, mengumpulkan donasi, dan menyulapnya menjadi buku-buku yang akan mengisi rak-rak kosong di panti asuhan. Semua dilakukan secara transparan, terukur, dan terdokumentasi.</p>
    <p>Bersama, kita tidak hanya menyumbangkan buku — kita menyalakan harapan satu cerita demi satu halaman.</p>
    </div>
  </section>

  <section id="donasi" class="page" tabindex="0" aria-label="Halaman Donasi">
    <h2>Proyek Crowdfunding</h2>
    <div class="project-list" id="project-list">
      <!-- Daftar proyek akan dimasukkan via JavaScript -->
    </div>
    <div class="cara-donasi" aria-labelledby="judul-cara-donasi" role="region">
      <h3 id="judul-cara-donasi">Cara Berdonasi</h3>
      <ul>
        <li>Pilih proyek yang ingin Anda dukung dari daftar proyek di atas.</li>
        <li>Klik tombol "Donasi" pada proyek yang dipilih.</li>
        <li>Isi nama dan jumlah donasi pada form yang muncul.</li>
        <li>Klik tombol "Kirim Donasi" untuk menyelesaikan proses.</li>
        <li>Nikmati kebahagiaan karena telah berkontribusi untuk perubahan positif!</li>
      </ul>
    </div>
  </section>

  <section id="about" class="page" tabindex="0" aria-label="Halaman Tentang Kami">
    <h2>Tentang Kami</h2>
    <p>Pustaka Asa adalah sebuah inisiatif sosial yang didirikan untuk menjawab kesenjangan akses literasi di panti asuhan, khususnya di wilayah Surabaya. Kami percaya bahwa setiap anak berhak memiliki buku cerita yang membangkitkan rasa ingin tahu, membentuk karakter, dan membuka imajinasi.</p>
    <p>Di banyak panti asuhan, anak-anak tumbuh tanpa buku yang dapat mereka nikmati. Rak-rak mereka kosong atau hanya diisi buku pelajaran lama. Pustaka Asa hadir untuk mengisi kekosongan itu — dengan membawa buku-buku penuh warna, cerita, dan harapan.</p>
    <p>Melalui sistem crowdfunding, kami mengajak masyarakat luas untuk berdonasi mulai dari nominal kecil, yang kemudian dikonversikan menjadi buku bacaan layak dan dikirim langsung ke panti asuhan. Semua proses dilakukan secara transparan dan terdokumentasi, karena kami percaya bahwa kepercayaan adalah bagian penting dari perubahan sosial yang nyata.</p>
    <p>Pustaka Asa bukan hanya soal buku, tapi tentang gerakan bersama menyalakan semangat membaca. Dan gerakan ini dijalankan oleh orang-orang biasa yang punya mimpi sederhana: membantu anak-anak menjadi pembaca yang bahagia.</p>

    <h3>Wajah di Balik PustakaAsa</h3>
    <p>Kami adalah sekelompok mahasiswa, relawan, dan pegiat literasi yang percaya bahwa perubahan bisa dimulai dari halaman pertama sebuah buku.
    Di balik proyek ini ada tim yang bekerja penuh semangat — mulai dari riset lapangan, pembuatan konten, pengelolaan donasi, hingga distribusi buku ke tangan anak-anak yang membutuhkannya.</p>
    <p>Kenali lebih dekat siapa kami, dan mari bergerak bersama.</p>

    <div class="team-container" aria-label="Tim Kami">
      <div class="team-member">
        <img src="gambar/naila.jpg" />
        <h4>Naila Galuh Widiana</h4>
        <p>Project Manager</p>
      </div>

      <div class="team-member">
        <img src="gambar/fitri.jpg" />
        <h4>Fitriyah</h4>
        <p>Website Developer</p>
      </div>

      <div class="team-member">
        <img src="gambar/samudra.jpg" />
        <h4>Samudra</h4>
        <p>Fundraising & Partnership Officer</p>
      </div>

      <div class="team-member">
        <img src="gambar/haidi.jpg" />
        <h4>Haidi Fildzah 'Izzati</h4>
        <p>Monitoring & Reporting Officer</p>
      </div>

      <div class="team-member">
        <img src="gambar/shofi.jpg" />
        <h4>Shofi Nurbaiti</h4>
        <p>Content Creator & Social Media Specialist</p>
      </div>

      <div class="team-member">
        <img src="gambar/nazril.jpg" />
        <h4>Muhammad Nazril Shihab</h4>
        <p>Distribusi & Logistik Coordinator</p>
      </div>
    </div>

    </div>
  </section>

  <section id="create-campaign" class="page" tabindex="0" aria-label="Halaman Buat Campaign">
    <h2>Buat Campaign Donasi</h2>
    <form id="campaign-form" aria-label="Form Buat Campaign">
      <label for="campaign-title">Judul Campaign:</label>
      <input type="text" id="campaign-title" name="campaign-title" required />

      <label for="campaign-description">Deskripsi:</label>
      <textarea id="campaign-description" name="campaign-description" required></textarea>

      <label for="campaign-goal">Target Donasi (Rp):</label>
      <input type="number" id="campaign-goal" name="campaign-goal" min="1000" step="1000" required />

      <button type="submit" class="submit-btn">Buat Campaign</button>
    </form>
  </section>
</main>

<div id="donasi-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc">
  <div class="modal-content">
    <button class="close-btn" aria-label="Tutup Form Donasi">&times;</button>
    <h3 id="modal-title">Donasi Proyek</h3>
    <form id="donasi-form">
      <p id="modal-desc">Isi data di bawah ini untuk mendukung proyek.</p>
      <label for="donatur-nama">Nama Anda:</label>
      <input type="text" id="donatur-nama" name="donatur-nama" autocomplete="name" required />

      <label for="donasi-amount">Jumlah Donasi (Rp):</label>
      <input type="number" id="donasi-amount" name="donasi-amount" min="1000" step="1000" required />

      <button type="submit" class="submit-btn">Kirim Donasi</button>
    </form>
  </div>
</div>

<footer>
  <div class="footer-container">
    <div class="footer-title">PustakaAsa</div>
    <nav aria-label="Navigasi footer">
      <button id="footer-home">Beranda</button>
      <button id="footer-about">Tentang Kami</button>
      <button id="footer-donasi">Donasi</button>
      <button id="footer-create-campaign">Buat Campaign</button>
    </nav>
    <div class="footer-copy">&copy; 2025 PustakaAsa. Universitas Negeri Surabaya.</div>
  </div>
</footer>

<script>
  (() => {
    const pages = ['home', 'donasi', 'about', 'create-campaign'];
    const navButtons = {
      home: document.getElementById('nav-home'),
      donasi: document.getElementById('nav-donasi'),
      about: document.getElementById('nav-about'),
      'create-campaign': document.getElementById('nav-create-campaign'),
    };
    const footerButtons = {
      home: document.getElementById('footer-home'),
      donasi: document.getElementById('footer-donasi'),
      about: document.getElementById('footer-about'),
      'create-campaign': document.getElementById('footer-create-campaign'),
    };

    const pageSections = pages.map(page => document.getElementById(page));
    const projectList = document.getElementById('project-list');
    const donasiModal = document.getElementById('donasi-modal');
    const donasiForm = document.getElementById('donasi-form');
    const closeDonasiBtn = donasiModal.querySelector('.close-btn');

    const galleryContainer = document.querySelector('#home .gallery-container');
    const teamContainer = document.querySelector('#about .team-container');

    // Projects data
    const defaultProjects = [
      { id: 1, title: '1000 Buku Cerita Anak untuk Panti Asuhan Surabaya', description: 'Mengumpulkan dan mendistribusikan 1000 buku cerita bergambar, dongeng, dan fabel untuk 15 panti asuhan di Surabaya. Setiap buku dipilih khusus untuk menginspirasi dan mengembangkan imajinasi anak-anak.', goal: 12000000, collected: 7500000 },
      { id: 2, title: 'Pojok Baca Ceria Panti Asuhan Dharma Putra', description: 'Membangun pojok baca yang nyaman dengan 500 buku bacaan anak, karpet, bantal, dan rak buku untuk 35 anak di Panti Asuhan Dharma Putra Surabaya.', goal: 8500000, collected: 4200000 },
      { id: 3, title: 'Buku Ensiklopedia & Edukasi untuk Panti Welas Asih', description: 'Menyediakan koleksi lengkap buku ensiklopedia anak, atlas dunia, dan buku sains sederhana untuk 60 anak di Panti Asuhan Welas Asih Surabaya.', goal: 9500000, collected: 6800000 },
      { id: 4, title: 'Program "Satu Anak Satu Buku Favorit"', description: 'Memberikan setiap anak di 8 panti asuhan Surabaya satu buku favorit pilihan mereka sendiri, plus 200 buku tambahan untuk perpustakaan bersama.', goal: 15000000, collected: 11200000 },
      { id: 5, title: 'Buku Keterampilan & Kreativitas Anak Panti', description: 'Menyediakan buku-buku panduan keterampilan seperti menggambar, memasak sederhana, dan kerajinan tangan untuk mengembangkan bakat anak-anak panti asuhan.', goal: 6000000, collected: 2900000 },
      { id: 6, title: 'Perpustakaan Keliling untuk Panti Terpencil', description: 'Membuat program perpustakaan keliling yang rutin mengunjungi 5 panti asuhan di pinggiran Surabaya dengan membawa 300 buku bacaan yang beragam.', goal: 10000000, collected: 5600000 }
    ];

    // Clear localStorage and reset with new projects
    localStorage.removeItem('projects');
    // Load existing projects from localStorage or use defaults if none exist
    let storedProjects = localStorage.getItem('projects');
    let projects = storedProjects ? JSON.parse(storedProjects) : defaultProjects;
    if (!storedProjects) {
      localStorage.setItem('projects', JSON.stringify(projects));
    }

    // Team data array: each { img: URL or base64, name, position }
    let teamMembers = JSON.parse(localStorage.getItem('teamMembers')) || [];

    let selectedProjectId = null;

    function calculateProgressPercent(project) {
      return Math.min(100, Math.round((project.collected / project.goal) * 100));
    }

    function renderProjects() {
      projectList.innerHTML = '';
      projects.forEach(project => {
        const progressPercent = calculateProgressPercent(project);
        const projectCard = document.createElement('div');
        projectCard.className = 'project-card';
        projectCard.innerHTML = `
          <h3>${project.title}</h3>
          <p>${project.description}</p>
          <div class="project-progress" aria-label="Progress dana ${progressPercent}%">
            <div class="project-progress-inner" style="width: ${progressPercent}%;"></div>
          </div>
          <p><strong>Target:</strong> Rp ${project.goal.toLocaleString('id-ID')}</p>
          <p><strong>Terhimpun:</strong> Rp ${project.collected.toLocaleString('id-ID')}</p>
          <button class="donasi-button" aria-label="Donasi ${project.title}" data-project-id="${project.id}">Donasi</button>
        `;
        projectList.appendChild(projectCard);
      });

      const donasiButtons = projectList.querySelectorAll('.donasi-button');
      donasiButtons.forEach(button => {
        button.addEventListener('click', e => {
          selectedProjectId = Number(e.currentTarget.dataset.projectId);
          openDonasiModal();
        });
      });
    }

    function renderGallery() {
      galleryContainer.innerHTML = '';
      galleryImages.forEach((src, index) => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = 'Galeri Gambar';
        img.className = 'gallery-image';
        galleryContainer.appendChild(img);
      });
    }

    function renderTeam() {
      teamContainer.innerHTML = '';
      const savedTeamMembers = JSON.parse(localStorage.getItem('teamMembers')) || [];
      teamMembers = savedTeamMembers;
      teamMembers.forEach((member, index) => {
        const memberDiv = document.createElement('div');
        memberDiv.className = 'team-member';
        memberDiv.innerHTML = `
          <img src="${member.img}" alt="Foto ${member.name}" />
          <h4>${member.name}</h4>
          <p>${member.position}</p>
        `;
        teamContainer.appendChild(memberDiv);
      });
    }

    // Gallery image sources (base64/url)
    let galleryImages = [];

    // Navigation handlers
    function navigateTo(page) {
      if (!pages.includes(page)) return;
      pageSections.forEach(section => {
        section.classList.toggle('active', section.id === page);
        if(section.id === page) section.focus();
      });
      for (const key in navButtons) {
        navButtons[key].classList.toggle('active', key === page);
      }
      for (const key in footerButtons) {
        footerButtons[key].style.color = key === page ? '#eee' : '#bbb';
        footerButtons[key].style.textDecoration = key === page ? 'underline' : 'none';
      }
    }

    // Modal open/close
    function openDonasiModal() {
      donasiModal.classList.add('active');
      donasiForm.reset();
      donasiForm.elements['donatur-nama'].focus();
    }

    function closeDonasiModal() {
      donasiModal.classList.remove('active');
      selectedProjectId = null;
    }

    // Form submissions and event listeners    
    donasiForm.addEventListener('submit', e => {
      e.preventDefault();
      const nama = donasiForm.elements['donatur-nama'].value.trim();
      const amount = Number(donasiForm.elements['donasi-amount'].value);
      if (!nama) {
        alert('Mohon isi nama Anda.');
        donasiForm.elements['donatur-nama'].focus();
        return;
      }
      if (amount < 1000) {
        alert('Jumlah donasi minimal Rp 1.000.');
        donasiForm.elements['donasi-amount'].focus();
        return;
      }
      const project = projects.find(p => p.id === selectedProjectId);
      if (project) {
        project.collected += amount;
        if (project.collected >= project.goal) {
          alert(`Selamat! Campaign "${project.title}" telah mencapai target. Campaign akan dihapus dari daftar.`);
          projects.splice(projects.findIndex(p => p.id === selectedProjectId), 1);
      localStorage.setItem('projects', JSON.stringify(projects));
        } else {
          alert(`Terima kasih, ${nama}, atas donasi sebesar Rp ${amount.toLocaleString('id-ID')} untuk proyek "${project.title}"!`);
        }
        closeDonasiModal();
        renderProjects();
        navigateTo('donasi');
      }
    });

    closeDonasiBtn.addEventListener('click', closeDonasiModal);
    donasiModal.addEventListener('click', e => {
      if (e.target === donasiModal) {
        closeDonasiModal();
      }
    });

    Object.entries(navButtons).forEach(([key, btn]) => {
      btn.addEventListener('click', () => {
        navigateTo(key);
      });
    });

    Object.entries(footerButtons).forEach(([key, btn]) => {
      btn.addEventListener('click', () => {
        navigateTo(key);
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    });

    const campaignForm = document.getElementById('campaign-form');
    campaignForm.addEventListener('submit', e => {
      e.preventDefault();
      const title = campaignForm.elements['campaign-title'].value.trim();
      const description = campaignForm.elements['campaign-description'].value.trim();
      const goal = Number(campaignForm.elements['campaign-goal'].value);
      if (!title || !description || goal < 1000) {
        alert('Mohon isi semua data dengan benar. Target minimal Rp 1.000.');
        return;
      }
      const newCampaign = {
        id: projects.length + 1,
        title,
        description,
        goal,
        collected: 0
      };
      projects.push(newCampaign);
      localStorage.setItem('projects', JSON.stringify(projects));
      alert(`Campaign "${title}" berhasil dibuat!`);
      campaignForm.reset();
      renderProjects();
      navigateTo('donasi');
    });

    renderProjects();
  })();
</script>
</body>
</html>